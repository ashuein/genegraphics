$.extend({getUrlVars:function(){var a,b,c,d;d=[];a=void 0;b=window.location.href.slice(window.location.href.indexOf("?")+1).split("&");c=0;while(c<b.length){a=b[c].split("=");d.push(a[0]);d[a[0]]=a[1];c++;}return d;},getUrlVar:function(a){return $.getUrlVars()[a];}});$(function(){var a,b,c,d,e,f,g,h;e=$.getUrlVars();h=e.username;f=e.repo;d=e.limit;a=e.branch;c=$('#latest-commits-widget');b=function(a){var b,c,d,e,g;c=a.data;e=$('#commit-history');e.empty();g=[];for(b in c){d=c[b];g.push((function(a,b){if(b.author!=null)return e.append("<li class=\"clearfix\">\n  <div class=\"left\">\n    <img class=\"commit-avatar\" src=\""+b.author.avatar_url+"\">\n  </div>\n  <div class=\"commit-author-info left\">\n      <a href=\"https://github.com/"+b.author.login+"\"><b class=\"commit-author\">"+b.author.login+"</b></a>\n      <br />\n      <b class=\"commit-date\">"+($.timeago(b.commit.committer.date))+"</b><br /><i class=\"commit-sha\">SHA: "+b.sha+"</i>\n      <br />\n      <a class=\"commit-message\" href=\"https://github.com/"+h+"/"+f+"/commit/"+b.sha+"\" target=\"_blank\">"+b.commit.message+"</a>\n  </div>\n</li>");})(b,d));}return g;};c.find('h4')[0].innerHTML="Latest Commits to <a href='https://github.com/katlabs/genegraphics'>"+h+"/"+f+"</a>";g="https://api.github.com/repos/"+h+"/"+f+"/commits?callback=callback";if(e.branch!=null)g+="&sha="+a;return $.ajax(g,{data:{per_page:d},dataType:"jsonp",type:"get"}).success(function(a){return b(a);});});(function(a){a.timeago=function(b){if(b instanceof Date)return e(b);else if(typeof b==="string")return e(a.timeago.parse(b));else return e(a.timeago.datetime(b));};var b=a.timeago;a.extend(a.timeago,{settings:{refreshMillis:60000,allowFuture:false,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(b){var c=this.settings.strings;var d=c.prefixAgo;var e=c.suffixAgo;if(this.settings.allowFuture)if(b<0){d=c.prefixFromNow;e=c.suffixFromNow;}var f=Math.abs(b)/1000;var g=f/60;var h=g/60;var i=h/24;var j=i/365;function k(d,e){var f=a.isFunction(d)?d(e,b):d;var g=(c.numbers&&c.numbers[e])||e;return f.replace(/%d/i,g);}var l=f<45&&k(c.seconds,Math.round(f))||f<90&&k(c.minute,1)||g<45&&k(c.minutes,Math.round(g))||g<90&&k(c.hour,1)||h<24&&k(c.hours,Math.round(h))||h<42&&k(c.day,1)||i<30&&k(c.days,Math.round(i))||i<45&&k(c.month,1)||i<365&&k(c.months,Math.round(i/30))||j<1.5&&k(c.year,1)||k(c.years,Math.round(j));var m=c.wordSeparator===undefined?" ":c.wordSeparator;return a.trim([d,l,e].join(m));},parse:function(b){var c=a.trim(b);c=c.replace(/\.\d\d\d+/,"");c=c.replace(/-/,"/").replace(/-/,"/");c=c.replace(/T/," ").replace(/Z/," UTC");c=c.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(c);},datetime:function(c){var d=a(c).get(0).tagName.toLowerCase()==="time";var e=d?a(c).attr("datetime"):a(c).attr("title");return b.parse(e);}});a.fn.timeago=function(){var a=this;a.each(c);var d=b.settings;if(d.refreshMillis>0)setInterval(function(){a.each(c);},d.refreshMillis);return a;};function c(){var b=d(this);if(!isNaN(b.datetime))a(this).text(e(b.datetime));return this;}function d(c){c=a(c);if(!c.data("timeago")){c.data("timeago",{datetime:b.datetime(c)});var d=a.trim(c.text());if(d.length>0)c.attr("title",d);}return c.data("timeago");}function e(a){return b.inWords(f(a));}function f(a){return(new Date().getTime()-a.getTime());}document.createElement("abbr");document.createElement("time");}(jQuery));